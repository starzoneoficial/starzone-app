name: Build Electron with Yarn

on: [push]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20.x'
      
      - name: Install Yarn
        run: npm install -g yarn
      
      - name: Create package.json
        run: |
          cat > package.json << 'EOF'
{
  "name": "starzone-app",
  "version": "1.0.0",
  "main": "main.js",
  "scripts": {
    "start": "electron ."
  },
  "devDependencies": {
    "electron": "25.9.0"
  }
}
EOF
      
      - name: Install with Yarn
        run: yarn install --network-timeout 300000
      
      - name: Test
        run: npx electron --version
